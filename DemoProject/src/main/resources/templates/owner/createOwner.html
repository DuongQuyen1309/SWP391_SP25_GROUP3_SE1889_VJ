<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>T·∫°o t√†i kho·∫£n ch·ªß c·ª≠a h√†ng</title>
    <link rel="stylesheet" href="/css/base.css">
    <script  src="/js/validateOwner1.js"></script>
    <link rel="icon" type="image/x-icon" th:href="@{/images/account.jpg}">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        .create-form {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            max-width: 500px;
            margin: 40px auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .create-form label {
            font-size: 16px;
            font-weight: bold;
            color: #2c3e50;
        }

        .create-form input {
            width: 95%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }

        .create-form button {
            background-color: #2c3e50;
            color: white;
            padding: 10px;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .create-form button:hover {
            background-color: #1a252f;
        }

    </style>
    <script src="/js/home.js"></script>
    <!--    <script>-->
    <!--        function confirmDelete(event, form) {-->
    <!--            event.preventDefault(); // NgƒÉn form submit ngay l·∫≠p t·ª©c-->
    <!--            if (confirm("Do you want to delete this account?")) {-->
    <!--                form.submit(); // N·∫øu ng∆∞·ªùi d√πng x√°c nh·∫≠n, ti·∫øp t·ª•c submit form-->
    <!--            }-->
    <!--        }-->


    <!--        document.addEventListener("DOMContentLoaded", function () {-->
    <!--            const form = document.querySelector(".create-form");-->
    <!--            const usernameInput = document.getElementById("username");-->
    <!--            const passwordInput = document.getElementById("password");-->
    <!--            const displaynameInput = document.getElementById("displayname");-->
    <!--            const emailInput = document.getElementById("email");-->
    <!--            const errorContainer = document.createElement("div");-->
    <!--            errorContainer.style.color = "red";-->
    <!--            errorContainer.style.fontWeight = "bold";-->

    <!--            // ‚úÖ H√†m g·ª≠i request AJAX ki·ªÉm tra username c√≥ t·ªìn t·∫°i kh√¥ng-->
    <!--            async function checkUsernameExists(username) {-->
    <!--                try {-->
    <!--                    let response = await fetch(`/api/check-username?username=${username}`);-->
    <!--                    let data = await response.json();-->
    <!--                    return data.exists;-->
    <!--                } catch (error) {-->
    <!--                    console.error("Error when checking username:", error);-->
    <!--                    return false;-->
    <!--                }-->
    <!--            }-->
    <!--            async function checkEmailExists(email) {-->
    <!--                try {-->
    <!--                    let response = await fetch(`/api/check-email?email=${email}`);-->
    <!--                    let data = await response.json();-->
    <!--                    return data.exists;-->
    <!--                } catch (error) {-->
    <!--                    console.error("Error when checking email:", error);-->
    <!--                    return false;-->
    <!--                }-->
    <!--            }-->
    <!--            form.addEventListener("submit", async function (event) {-->
    <!--                event.preventDefault();-->
    <!--                let errors = [];-->



    <!--                // ‚úÖ Ki·ªÉm tra username kh√¥ng r·ªóng-->
    <!--                if (usernameInput.value.trim() === "") {-->
    <!--                    errors.push("Username must be not empty.");-->
    <!--                } else if (!/^[A-Za-z0-9]+$/.test(usernameInput.value)) {-->
    <!--                    errors.push("Username must only contain letters (A-Z, a-z) or numbers, no special characters.");-->
    <!--                } else {-->
    <!--                    // üîç G·ª≠i AJAX ki·ªÉm tra username c√≥ t·ªìn t·∫°i kh√¥ng-->
    <!--                    let isUsernameExists = await checkUsernameExists(usernameInput.value);-->
    <!--                    console.log(isUsernameExists);-->
    <!--                    if (isUsernameExists) {-->
    <!--                        errors.push("This username already exists, please enter another username.");-->
    <!--                    }-->
    <!--                }-->

    <!--                // ‚úÖ Ki·ªÉm tra password kh√¥ng r·ªóng v√† c√≥ ƒë·ªß ƒëi·ªÅu ki·ªán-->
    <!--                if (passwordInput.value.trim() === "") {-->
    <!--                    errors.push("Password must be not empty.");-->
    <!--                }-->

    <!--                // ‚úÖ Ki·ªÉm tra display name kh√¥ng r·ªóng-->
    <!--                if (displaynameInput.value.trim() === "") {-->
    <!--                    errors.push("Display Name must be not empty.");-->
    <!--                }-->

    <!--                if (emailInput.value.trim() === "") {-->
    <!--                    errors.push("Email must be not empty.");-->
    <!--                } else if (!emailInput.value.includes("@")) {-->
    <!--                    errors.push("Please includes '@' in email.");-->
    <!--                } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailInput.value)) {-->
    <!--                    errors.push("Email is not in the correct format, please enter the correct format (for example: example@gmail.com)");-->
    <!--                } else {-->
    <!--                    let isEmailExists = await checkEmailExists(emailInput.value);-->
    <!--                    if (isEmailExists) {-->
    <!--                        errors.push("This email already exists, please enter another email.");-->
    <!--                    }-->
    <!--                }-->


    <!--                // ‚úÖ N·∫øu c√≥ l·ªói, hi·ªÉn th·ªã l·ªói v√† ngƒÉn form submit-->
    <!--                if (errors.length > 0) {-->
    <!--                    event.preventDefault();-->
    <!--                    errorContainer.innerHTML = errors.join("<br>");-->
    <!--                    form.insertBefore(errorContainer, form.querySelector("button"));-->
    <!--                }-->
    <!--                else {-->

    <!--                    // ‚úÖ ƒê·ª£i 500ms ƒë·ªÉ alert hi·ªÉn th·ªã, sau ƒë√≥ g·ª≠i form-->
    <!--                    setTimeout(() => {-->
    <!--                        alert("Create account successfully.");-->
    <!--                        form.submit();-->
    <!--                    }, 500);-->
    <!--                }-->
    <!--            });-->


    <!--        });-->
    <!--    </script>-->
    <style>
        .error-msg {
            display: none; /* ·∫®n m·∫∑c ƒë·ªãnh */
            margin-top: 2px;
            margin-bottom: 0;
            font-size: 14px;
            color: red;
        }
        p {
            margin-top: 2px;
            margin-bottom: 0;
            font-size: 14px;
        }
    </style>

</head>
<body>

<div th:insert="~{layout/header :: header}"></div>

<!-- Sidebar -->
<div class="sidebar" id="sidebar">

    <h2>Feature</h2>
    <a href="/account/listOwner"><i class="fas fa-users"></i>  Qu·∫£n l√≠ ch·ªß c·ª≠a h√†ng</a>

    <div id="accountMenu" class="submenu" style="display: none;">

    </div>

</div>


<!-- Content -->
<div class="content">
    <h1>T·∫°o t√†i kho·∫£n ch·ªß s·ªü h·ªØu m·ªõi</h1>
    <form class="create-form" action="/account/createOwner" method="POST" onsubmit="return validateForm()">

        <label for="username">T√™n t√†i kho·∫£n:</label>
        <input type="text" id="username" name="username" oninput="validateName(this)">
        <small id="usernameError" style="color: red; font-weight: bold"></small>

        <label for="password">M·∫≠t kh·∫©u:</label>
        <input type="password" id="password" name="password" oninput="validatePass(this)" >
        <small id="passError" style="color: red; font-weight: bold"></small>


        <label for="displayname">T√™n hi·ªÉn th·ªã:</label>
        <input type="text" id="displayname" name="displayname" oninput="validatePass(this)" >
        <small id="displaynameError" style="color: red; font-weight: bold"></small>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" oninput="validatePass(this)">
        <small id="emailError" style="color: red; font-weight: bold"></small>

        <button type="submit" id="applyBtn">T·∫°o t√†i kho·∫£n</button>
    </form>

</div>
<footer>
    &copy; 2025 Rice Sales Management. All Rights Reserved.
</footer>

</body>
</html>